name: Pipeline CI/CD
on: push
jobs:
  build:
    name: Build de dependências
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build das dependências
        run: docker-compose -f integration/docker-compose-integration-tests.yml build
  test:
    name: Testes E2E do sistema
    runs-on: ubuntu-latest
    needs: build
    steps:
      - uses: actions/checkout@v2
      - name: Testes E2E do sistema
        run: make run-integration-tests